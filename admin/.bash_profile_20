# .bash_profile

# Get the aliases and functions
if [ -f ~/.bashrc ]; then
  . ~/.bashrc
fi

export DOCKER_COMPOSE_FILENAME=deploy-local-20.yaml
PATH=$PATH:$HOME/bin
export RUTIL_VM_HOME=$HOME/rutil-vm
export PATH

# User specific environment and startup programs
export DOCKER_IMG_RUTIL_VM_API=ititcloud/rutil-vm-api
export DOCKER_IMG_RUTIL_VM_API_VERSION=0.2.0-beta2
export DOCKER_IMG_RUTIL_VM_API_CURRENT=$DOCKER_IMG_RUTIL_VM_API:$DOCKER_IMG_RUTIL_VM_API_VERSION
export DOCKER_IMG_RUTIL_VM_API_LATEST=$DOCKER_IMG_RUTIL_VM_API:latest

export DOCKER_IMG_RUTIL_VM=ititcloud/rutil-vm
export DOCKER_IMG_RUTIL_VM_CURRENT=$DOCKER_IMG_RUTIL_VM:$DOCKER_IMG_RUTIL_VM_API_VERSION
export DOCKER_IMG_RUTIL_VM_LATEST=$DOCKER_IMG_RUTIL_VM:latest

#
# docker logs -f <컨테이너명>
#
function dl() {
  docker logs -f $1
}

function di() {
  docker images
}

function de() {
  docker exec -it $1 /bin/bash
}
#
# docker rmi <이미지>
#
function drmi() {
  docker rmi $1
}

function startDk() {
  docker compose -f "$RUTIL_VM_HOME/$DOCKER_COMPOSE_FILENAME" up -d
}

function stopDk() {
  docker compose -f "$HOME/rutil-vm/$DOCKER_COMPOSE_FILENAME" down
}

function loadDkb() {
  docker rmi $DOCKER_IMG_RUTIL_VM_API $DOCKER_IMG_RUTIL_VM_API_CURRNET;
  docker load -i $1;
  docker tag $DOCKER_IMG_RUTIL_VM_API_CURRENT $DOCKER_IMG_RUTIL_VM_API_LATEST;
}

function loadDkf() {
  docker rmi $DOCKER_IMG_RUTIL_VM $DOCKER_IMG_RUTIL_VM_CURRNET;
  docker load -i $1;
  docker tag $DOCKER_IMG_RUTIL_VM_CURRENT $DOCKER_IMG_RUTIL_VM_LATEST;
}